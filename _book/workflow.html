<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.131">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Fidelity in Hybrid Implementation Trials: Technical Guidance for Implementation Researchers - 2&nbsp; Detailed statistical information</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./references.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Detailed statistical information</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fidelity in Hybrid Implementation Trials: Technical Guidance for Implementation Researchers</a> 
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./workflow.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Detailed statistical information</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#workflow" id="toc-workflow" class="nav-link active" data-scroll-target="#workflow"><span class="toc-section-number">2.1</span>  Workflow</a></li>
  <li><a href="#determining-the-design-matrix-regarding-the-chosen-design" id="toc-determining-the-design-matrix-regarding-the-chosen-design" class="nav-link" data-scroll-target="#determining-the-design-matrix-regarding-the-chosen-design"><span class="toc-section-number">2.2</span>  Determining the design matrix regarding the chosen design</a></li>
  <li><a href="#sampling-data-of-a-cluster-randomized-trial-with-a-given-design" id="toc-sampling-data-of-a-cluster-randomized-trial-with-a-given-design" class="nav-link" data-scroll-target="#sampling-data-of-a-cluster-randomized-trial-with-a-given-design"><span class="toc-section-number">2.3</span>  Sampling data of a cluster randomized trial with a given design</a></li>
  <li><a href="#effect-estimation-from-the-data" id="toc-effect-estimation-from-the-data" class="nav-link" data-scroll-target="#effect-estimation-from-the-data"><span class="toc-section-number">2.4</span>  Effect estimation from the data</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Detailed statistical information</span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="workflow" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="workflow"><span class="header-section-number">2.1</span> Workflow</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/workflow.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Workflow diagramme of the simulation</figcaption><p></p>
</figure>
</div>
<p>Each simulation step includes three necessary steps:</p>
<ul>
<li><p>Determining the design matrix regarding the specified design</p></li>
<li><p>Sampling data</p></li>
<li><p>Effect estimation from the data</p></li>
</ul>
<p>and will be explained with more detail here. For a simulation experiment like in [Tutorial] it is not necessary to understand the whole statistical modeling background, which is figured out here.</p>
<p>For the first 2 steps the provided R-package {samplingDataCRT} v1.0 <span class="citation" data-cites="R-samplingDataCRT">(<a href="references.html#ref-R-samplingDataCRT" role="doc-biblioref">Trutschel and Treutler 2017</a>)</span> is needed, for the last {lm4}. How to install and load see [Introduction]. The first steps is doe once and the latter two are used repeatedly through one simulation experiment within each scenario setting specified in step 1.</p>
</section>
<section id="determining-the-design-matrix-regarding-the-chosen-design" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="determining-the-design-matrix-regarding-the-chosen-design"><span class="header-section-number">2.2</span> Determining the design matrix regarding the chosen design</h2>
<p>To specify a cluster randomized study the following parameter has to be determined:</p>
<ul>
<li>Number of clusters (e.g.&nbsp;hospitals, nursing homes, …) obtained through the study</li>
<li>Number of time points the clusters were followed</li>
<li>Cluster size referes to the number of individuals obtained within one cluster</li>
<li>Study design: parallel design or Stepped wedge design (cross-over also possible)</li>
<li>Study type: cross-sectional if individuals could be different within the cluster between time points or longitudinal if individuals are followed over time</li>
</ul>
<p>Based on the example in the main article, we specify a hypothetical example including parameter settings for a reference setup of the simulation experiment: a cross-sectional stepped wedge cluster randomized trial with ten nursing homes, six time points and ten individuals within each nursing home and time point (see main article). All parameters can be adapted to a own practical example. The resulting reference design matrix can be create manually (by create a corresponding matrix) or by the povided function R-function {designMatrix()}.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">#using the parameter setting of Table 1 in the article</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="do">######################################################</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Design ##</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="do">############</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>K<span class="ot">&lt;-</span><span class="dv">7</span> <span class="co">#number of time points</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>I<span class="ot">&lt;-</span><span class="dv">6</span> <span class="co">#number of cluster</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>Sw<span class="ot">&lt;-</span><span class="dv">1</span> <span class="co">#number of cluster switches per time point can be manually set</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>J<span class="ot">&lt;-</span><span class="dv">10</span> <span class="co">#Subjects =  Number of individuals per cluster</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">#design matrix of "SWD" with given setting</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>(X<span class="ot">&lt;-</span>samplingDataCRT<span class="sc">::</span><span class="fu">designMatrix</span>(<span class="at">nC=</span>I, <span class="at">nT=</span>K, <span class="at">nSw=</span>Sw))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7]
[1,]    0    1    1    1    1    1    1
[2,]    0    0    1    1    1    1    1
[3,]    0    0    0    1    1    1    1
[4,]    0    0    0    0    1    1    1
[5,]    0    0    0    0    0    1    1
[6,]    0    0    0    0    0    0    1</code></pre>
</div>
</div>
</section>
<section id="sampling-data-of-a-cluster-randomized-trial-with-a-given-design" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="sampling-data-of-a-cluster-randomized-trial-with-a-given-design"><span class="header-section-number">2.3</span> Sampling data of a cluster randomized trial with a given design</h2>
<p>To sample data for a cluster randomized trial using sampling from a multivariate normal distribution provided by the package {samplingDataCRT}, several model parameter has also be specified:</p>
<ul>
<li>Baseline mean of the outcome of interest</li>
<li>Intervention effect (change/difference in mean outcome) by implementing the intervention)</li>
<li>Time trend effects</li>
<li>Variance within the multilevel data: between clusters, between individuals, within individuals which provide an estimate of the intra-cluster correlation coefficient (ICC) as an measure of dependencies within clusters.</li>
</ul>
<p>In the example here we set the mean outcoem to 10 (for example the mean value of measured quality of life in population), the intervention effect, no time trends. With a given between cluster variance of <code>sigma.3</code> and a error variance of <code>sigma.1</code>, the resulting ICC is <code>ICC</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Model parameter ##</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="do">####################</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>mu<span class="fl">.0</span><span class="ot">&lt;-</span> <span class="dv">10</span>           <span class="co"># Baseline mean of the outcome of interest</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>theta <span class="ot">&lt;-</span> <span class="dv">1</span>          <span class="co"># intervention effect</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>betas<span class="ot">&lt;-</span><span class="fu">rep</span>(<span class="dv">0</span>, K<span class="dv">-1</span>)  <span class="co"># no Time trend, but could be included</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>sigma<span class="fl">.1</span><span class="ot">&lt;-</span><span class="dv">2</span>    <span class="co"># variability within or error variance (H&amp;H sigma)</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>sigma<span class="fl">.2</span><span class="ot">&lt;-</span><span class="cn">NULL</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>sigma<span class="fl">.3</span><span class="ot">&lt;-</span>sigma<span class="fl">.1</span><span class="sc">*</span><span class="fu">sqrt</span>(<span class="fl">0.001</span><span class="sc">/</span>(<span class="dv">1</span><span class="fl">-0.001</span>))    <span class="co"># between clusters variability (H&amp;H tau)</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="co">#resulting ICC</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>(ICC<span class="ot">&lt;-</span>sigma<span class="fl">.3</span><span class="sc">^</span><span class="dv">2</span><span class="sc">/</span>(sigma<span class="fl">.3</span><span class="sc">^</span><span class="dv">2</span><span class="sc">+</span>sigma<span class="fl">.1</span><span class="sc">^</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.001</code></pre>
</div>
</div>
<p>To note, by choosing longitudinal or cross-sectional design, we need to speciy in the first case 3, in the second only two variances regarding using a three- instead of a two-level hierarchical experiment with the following meaning:</p>
<ul>
<li>three-level design (longitudinal data):
<ul>
<li>between clusters variability</li>
<li>within cluster (or between individuals) variability</li>
<li>within individuals (or error) variability</li>
</ul></li>
<li>two-level design (cross-sectional data):
<ul>
<li>between clusters variability [‘sigma’ put this reference here Hussey and Hughes 2007 ]</li>
<li>within cluster (or error) variability [ ‘tau’ put this reference here Hussey and Hughes 2007 ]</li>
</ul></li>
</ul>
<p>A complete dataset for a special design with a given setup can be sampled by the given function R-function {sampleData()}. Therefore,the complete data design matrix and the covariance-variance matrix for the data given the design are also needed to be specified, which is provided by the functions R-function {completeDataDesignMatrix()} and R-function {CovMat.Design()}. The complete data design matrix has the size of (Number of Cluster x Clustersize x Number of timepoints) rows and (Number of model parameters) columns. To sample the data from for a cluster randomized trial, it has additionally be specified, if the individuals are followed over time (longitudinal design) or not (cross-sectional design).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">#complete data design matrix</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>D<span class="ot">&lt;-</span>samplingDataCRT<span class="sc">::</span><span class="fu">completeDataDesignMatrix</span>(J, X)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>(<span class="fu">dim</span>(D))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 420   8</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">#covariance-variance matrix for the data given the design</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>V<span class="ot">&lt;-</span>samplingDataCRT<span class="sc">::</span><span class="fu">CovMat.Design</span>(K, J, I, <span class="at">sigma.1=</span>sigma<span class="fl">.1</span>, <span class="at">sigma.3=</span>sigma<span class="fl">.3</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(V)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 420 420</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">#corresponding fixed effects in linear mixed model</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>parameters<span class="ot">&lt;-</span><span class="fu">c</span>(mu<span class="fl">.0</span>, betas, theta)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">#sample complete data given the setup</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co"># study design type = cross-sectional</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>type<span class="ot">&lt;-</span><span class="st">"cross-sec"</span> </span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>sample.data<span class="ot">&lt;-</span>samplingDataCRT<span class="sc">::</span><span class="fu">sampleData</span>(<span class="at">type =</span> type, <span class="at">K=</span>K,<span class="at">J=</span>J,<span class="at">I=</span>I, <span class="at">D=</span>D, <span class="at">V=</span>V, <span class="at">parameters=</span>parameters)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To validate the number of observations provided by the sampling method a summary of the data can be conducted.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(sample.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 420   5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co">#show the number of observations within the SWD</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="fu">xtabs</span>(<span class="sc">~</span>cluster<span class="sc">+</span>measurement, <span class="at">data=</span>sample.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       measurement
cluster  1  2  3  4  5  6  7
      1 10 10 10 10 10 10 10
      2 10 10 10 10 10 10 10
      3 10 10 10 10 10 10 10
      4 10 10 10 10 10 10 10
      5 10 10 10 10 10 10 10
      6 10 10 10 10 10 10 10</code></pre>
</div>
</div>
</section>
<section id="effect-estimation-from-the-data" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="effect-estimation-from-the-data"><span class="header-section-number">2.4</span> Effect estimation from the data</h2>
<p>The sampled data can then be analysed by a linear mixed model with the function R-function{lmer()} of the package R-package {lme4}, hence the parameter of the model will be estimated.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#analysis of the two-level data by a linear mixe model</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>lme4<span class="sc">::</span><span class="fu">lmer</span>(val<span class="sc">~</span>intervention<span class="sc">+</span>measurement <span class="sc">+</span> (<span class="dv">1</span><span class="sc">|</span>cluster), <span class="at">data=</span>sample.data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: val ~ intervention + measurement + (1 | cluster)
   Data: sample.data
REML criterion at convergence: 1532.353
Random effects:
 Groups   Name        Std.Dev.
 cluster  (Intercept) 0.1661  
 Residual             1.4880  
Number of obs: 420, groups:  cluster, 6
Fixed Effects:
 (Intercept)  intervention  measurement2  measurement3  measurement4  
    9.998904      1.099036      0.009912      0.045110      0.280591  
measurement5  measurement6  measurement7  
   -0.168744     -0.191898     -0.323571  </code></pre>
</div>
</div>
<p>This process of sampling data and effect estimation from the data will be used repeatedly through the simulation experiment within each scenario setting.</p>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-R-samplingDataCRT" class="csl-entry" role="doc-biblioentry">
Trutschel, Diana, and Hendrik Treutler. 2017. <em><span class="nocase">samplingDataCRT</span>: Sampling Data Within Different Study Designs for Cluster Randomized Trials</em>. <a href="https://CRAN.R-project.org/package=samplingDataCRT">https://CRAN.R-project.org/package=samplingDataCRT</a>.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./references.html" class="pagination-link">
        <span class="nav-page-text">References</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>